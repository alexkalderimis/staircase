<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><title>staircase.handler documentation</title></head><body><header><section class="title"><h1><a href="index.html">Staircase Api Documentation</a></h1></section><small>Version: 0.1.0-SNAPSHOT</small></header><section class="container"><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>devlin</span></div></div></li><li class="depth-2"><a href="devlin.table-utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>table-utils</span></div></a></li><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>staircase</span></div></div></li><li class="depth-2 branch"><a href="staircase.app.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>app</span></div></a></li><li class="depth-2 branch"><a href="staircase.config.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>config</span></div></a></li><li class="depth-2 branch"><a href="staircase.data.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>data</span></div></a></li><li class="depth-2 branch current"><a href="staircase.handler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>handler</span></div></a></li><li class="depth-2 branch"><a href="staircase.helpers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>helpers</span></div></a></li><li class="depth-2 branch"><a href="staircase.main.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>main</span></div></a></li><li class="depth-2 branch"><a href="staircase.migrations.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>migrations</span></div></a></li><li class="depth-2 branch"><a href="staircase.protocols.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>protocols</span></div></a></li><li class="depth-2 branch"><a href="staircase.repl.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>repl</span></div></a></li><li class="depth-2"><a href="staircase.resources.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>resources</span></div></a></li><li class="depth-3 branch"><a href="staircase.resources.histories.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>histories</span></div></a></li><li class="depth-3 branch"><a href="staircase.resources.projects.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>projects</span></div></a></li><li class="depth-3 branch"><a href="staircase.resources.services.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>services</span></div></a></li><li class="depth-3"><a href="staircase.resources.steps.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>steps</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>routes</span></div></div></li><li class="depth-3 branch"><a href="staircase.routes.histories.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>histories</span></div></a></li><li class="depth-3 branch"><a href="staircase.routes.projects.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>projects</span></div></a></li><li class="depth-3"><a href="staircase.routes.service.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>service</span></div></a></li><li class="depth-2 branch"><a href="staircase.routing.html"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>routing</span></div></a></li><li class="depth-2 branch"><a href="staircase.sessions.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sessions</span></div></a></li><li class="depth-2 branch"><a href="staircase.sql.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sql</span></div></a></li><li class="depth-2 branch"><a href="staircase.tasks.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tasks</span></div></a></li><li class="depth-2 branch"><a href="staircase.tokens.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tokens</span></div></a></li><li class="depth-2 branch"><a href="staircase.tools.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tools</span></div></a></li><li class="depth-2"><a href="staircase.views.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>views</span></div></a></li><li class="depth-3 branch"><a href="staircase.views.about.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>about</span></div></a></li><li class="depth-3 branch"><a href="staircase.views.buttons.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>buttons</span></div></a></li><li class="depth-3 branch"><a href="staircase.views.facets.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>facets</span></div></a></li><li class="depth-3 branch"><a href="staircase.views.footer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>footer</span></div></a></li><li class="depth-3 branch"><a href="staircase.views.forms.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>forms</span></div></a></li><li class="depth-3 branch"><a href="staircase.views.header.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>header</span></div></a></li><li class="depth-3 branch"><a href="staircase.views.history.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>history</span></div></a></li><li class="depth-3 branch"><a href="staircase.views.layout.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>layout</span></div></a></li><li class="depth-3 branch"><a href="staircase.views.modals.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>modals</span></div></a></li><li class="depth-3 branch"><a href="staircase.views.options.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>options</span></div></a></li><li class="depth-3 branch"><a href="staircase.views.projects.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>projects</span></div></a></li><li class="depth-3 branch"><a href="staircase.views.services.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>services</span></div></a></li><li class="depth-3 branch"><a href="staircase.views.start.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>start</span></div></a></li><li class="depth-3"><a href="staircase.views.welcome.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>welcome</span></div></a></li></ul></div><section class="namespace-docs" id="content"><h2 class="anchor" id="top">staircase.handler</h2><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var--.3ERouter"><h3><a href="#var--.3ERouter">-&gt;Router</a></h3><div class="usage"><code>(-&gt;Router session-store middlewares config secrets resources handler)</code></div><div class="doc"><div class="markdown"><p>Positional factory function for class staircase.handler.Router.</p></div></div></div><div class="public anchor" id="var-allowed-origins"><h3><a href="#var-allowed-origins">allowed-origins</a></h3><div class="usage"><code>(allowed-origins audience)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-anonymous-workflow"><h3><a href="#var-anonymous-workflow">anonymous-workflow</a></h3><div class="usage"><code>(anonymous-workflow request)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-app-auth-routes"><h3><a href="#var-app-auth-routes">app-auth-routes</a></h3><div class="usage"><code>(app-auth-routes {:keys [config secrets]})</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-build-config-routes"><h3><a href="#var-build-config-routes">build-config-routes</a></h3><div class="usage"><code>(build-config-routes {:keys [config]})</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-build-step-routes"><h3><a href="#var-build-step-routes">build-step-routes</a></h3><div class="usage"><code>(build-step-routes {{:keys [steps]} :resources})</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-credential-fn"><h3><a href="#var-credential-fn">credential-fn</a></h3><div class="usage"><code>(credential-fn auth)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-drawbridge-handler"><h3><a href="#var-drawbridge-handler">drawbridge-handler</a></h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-friendly-hosts"><h3><a href="#var-friendly-hosts">friendly-hosts</a></h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-get-principal"><h3><a href="#var-get-principal">get-principal</a></h3><div class="usage"><code>(get-principal router auth)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-map-.3ERouter"><h3><a href="#var-map-.3ERouter">map-&gt;Router</a></h3><div class="usage"><code>(map-&gt;Router m__5869__auto__)</code></div><div class="doc"><div class="markdown"><p>Factory function for class staircase.handler.Router, taking a map of keywords to field values.</p></div></div></div><div class="public anchor" id="var-new-router"><h3><a href="#var-new-router">new-router</a></h3><div class="usage"><code>(new-router)</code></div><div class="doc"><div class="markdown"><p>Create a new router</p></div></div></div><div class="public anchor" id="var-persona-workflow"><h3><a href="#var-persona-workflow">persona-workflow</a></h3><div class="usage"><code>(persona-workflow audience request)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-wrap-bind-user"><h3><a href="#var-wrap-bind-user">wrap-bind-user</a></h3><div class="usage"><code>(wrap-bind-user handler)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-wrap-exception-summaries"><h3><a href="#var-wrap-exception-summaries">wrap-exception-summaries</a></h3><div class="usage"><code>(wrap-exception-summaries handler {config :config})</code></div><div class="doc"><div class="markdown"></div></div></div></section></section></body></html>